<!-- src/components/Header.astro -->
<header id="main-header" class="fixed top-0 left-0 right-0 z-50 transition-colors duration-300">
  <nav class="container mx-auto">
    <div class="flex items-center justify-between py-6">
<!-- Logo -->
<a href="/" class="z-10">
  <!-- Replaced the text span with an image tag -->
  <img 
    src="/storysmith-logo-black.png" 
    alt="StorySmith Logo" 
    class="h-10 w-auto"
  >
</a>

      <!-- Desktop Navigation -->
      <ul class="hidden md:flex items-center gap-8 font-sans uppercase tracking-wider text-sm">
        <li><a href="/legacy" class="nav-link text-brand-white">The Spoken Legacy</a></li>
        <li><a href="/premium" class="nav-link text-brand-white">Premium Podcast</a></li>
        <li><a href="/our-philosophy" class="nav-link text-brand-white">Our Philosophy</a></li>
        <li><a href="/contact" class="nav-link text-brand-white">Contact</a></li>
      </ul>
      
      <!-- Mobile Menu Button (Hamburger) -->
      <button id="mobile-menu-button" class="md:hidden text-brand-white z-10" aria-label="Toggle menu">
        <svg id="hamburger-icon" class="w-8 h-8 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" /></svg>
        <svg id="close-icon" class="w-8 h-8 hidden" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
      </button>
    </div>
  </nav>
</header>

<!-- Mobile Menu Panel -->
<div id="mobile-menu" class="fixed inset-0 bg-brand-black/95 backdrop-blur-lg z-40 transform translate-x-full transition-transform duration-300 md:hidden">
  <ul class="flex flex-col items-center justify-center h-full gap-8 text-brand-white text-2xl font-serif">
    <li><a href="/legacy" class="hover:text-brand-lime">The Spoken Legacy</a></li>
    <li><a href="/premium" class="hover:text-brand-lime">Premium Podcast</a></li>
    <li><a href="/our-philosophy" class="hover:text-brand-lime">Our Philosophy</a></li>
    <li><a href="/contact" class="hover:text-brand-lime">Contact</a></li>
  </ul>
</div>

<style>
  .nav-link {
    position: relative;
    transition: color 0.3s ease;
  }
  .nav-link::after {
    content: '';
    position: absolute;
    width: 0;
    height: 1px;
    bottom: -4px;
    left: 0;
    background-color: currentColor;
    transition: width 0.3s ease;
  }
  .nav-link:hover::after {
    width: 100%;
  }
</style>

<script>
  // Script for header color change on scroll
  const header = document.getElementById('main-header');
  const logoText = document.getElementById('logo-text');
  const navLinks = document.querySelectorAll('.nav-link');
  const mobileMenuButton = document.getElementById('mobile-menu-button');

  window.addEventListener('scroll', () => {
    if (window.scrollY > 50) {
      header?.classList.add('bg-brand-white', 'shadow-md');
      logoText?.classList.remove('text-brand-white');
      logoText?.classList.add('text-brand-black');
      navLinks.forEach(link => {
        link.classList.remove('text-brand-white');
        link.classList.add('text-brand-black');
      });
      mobileMenuButton?.classList.remove('text-brand-white');
      mobileMenuButton?.classList.add('text-brand-black');
    } else {
      header?.classList.remove('bg-brand-white', 'shadow-md');
      logoText?.classList.add('text-brand-white');
      logoText?.classList.remove('text-brand-black');
      navLinks.forEach(link => {
        link.classList.add('text-brand-white');
        link.classList.remove('text-brand-black');
      });
      mobileMenuButton?.classList.add('text-brand-white');
      mobileMenuButton?.classList.remove('text-brand-black');
    }
  });

  // Mobile menu toggle
  const mobileMenuPanel = document.getElementById('mobile-menu');
  const hamburgerIcon = document.getElementById('hamburger-icon');
  const closeIcon = document.getElementById('close-icon');

  mobileMenuButton?.addEventListener('click', () => {
    mobileMenuPanel?.classList.toggle('translate-x-full');
    hamburgerIcon?.classList.toggle('hidden');
    closeIcon?.classList.toggle('hidden');
  });
</script>